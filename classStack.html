<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bluenet: Stack Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bluenet
   &#160;<span id="projectnumber">5.4.0</span>
   </div>
   <div id="projectbrief">Bluenet, the firmware for the Crownstone power outlet</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classStack-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Stack Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>nRF51822 specific implementation of the BLEStack  
 <a href="classStack.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cs__Stack_8h_source.html">cs_Stack.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Stack:</div>
<div class="dyncontent">
<div class="center"><img src="classStack__inherit__graph.png" border="0" usemap="#Stack_inherit__map" alt="Inheritance graph"/></div>
<map name="Stack_inherit__map" id="Stack_inherit__map">
<area shape="rect" title="nRF51822 specific implementation of the BLEStack" alt="" coords="36,80,92,107"/>
<area shape="rect" href="classBaseClass.html" title=" " alt="" coords="5,5,123,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Stack:</div>
<div class="dyncontent">
<div class="center"><img src="classStack__coll__graph.png" border="0" usemap="#Stack_coll__map" alt="Collaboration graph"/></div>
<map name="Stack_coll__map" id="Stack_coll__map">
<area shape="rect" title="nRF51822 specific implementation of the BLEStack" alt="" coords="92,261,148,288"/>
<area shape="rect" href="classBaseClass.html" title=" " alt="" coords="5,165,123,191"/>
<area shape="rect" href="classfixed__tuple.html" title=" " alt="" coords="147,157,349,199"/>
<area shape="rect" href="classtuple.html" title=" " alt="" coords="185,81,311,108"/>
<area shape="rect" title=" " alt="" coords="167,5,329,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a2c61cfe41b4fd058abe511b1a597a510"><td class="memItemLeft" align="right" valign="top"><a id="a2c61cfe41b4fd058abe511b1a597a510"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><b>condition_t</b> { <b>C_STACK_INITIALIZED</b>, 
<b>C_RADIO_INITIALIZED</b>, 
<b>C_SERVICES_INITIALIZED</b>
 }</td></tr>
<tr class="separator:a2c61cfe41b4fd058abe511b1a597a510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac31c600e9af36c39731b4b5b9a9d4c"><td class="memItemLeft" align="right" valign="top"><a id="a9ac31c600e9af36c39731b4b5b9a9d4c"></a>
typedef <a class="el" href="classfixed__tuple.html">fixed_tuple</a>&lt; <a class="el" href="classService.html">Service</a> *, <a class="el" href="classStack.html#ac472f79d0221f4e7b892dc5cfe846829">MAX_SERVICE_COUNT</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>Services_t</b></td></tr>
<tr class="separator:a9ac31c600e9af36c39731b4b5b9a9d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a891e74e94124bd2f19d94b8cd0c0ddc8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a891e74e94124bd2f19d94b8cd0c0ddc8">init</a> ()</td></tr>
<tr class="memdesc:a891e74e94124bd2f19d94b8cd0c0ddc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the BLE stack.  <a href="classStack.html#a891e74e94124bd2f19d94b8cd0c0ddc8">More...</a><br /></td></tr>
<tr class="separator:a891e74e94124bd2f19d94b8cd0c0ddc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada32d485742dd8f9c402bd59bc45319d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#ada32d485742dd8f9c402bd59bc45319d">initRadio</a> ()</td></tr>
<tr class="memdesc:ada32d485742dd8f9c402bd59bc45319d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the radio.  <a href="classStack.html#ada32d485742dd8f9c402bd59bc45319d">More...</a><br /></td></tr>
<tr class="separator:ada32d485742dd8f9c402bd59bc45319d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59720a43020d2844a0a9ea190fb90ce"><td class="memItemLeft" align="right" valign="top"><a id="ac59720a43020d2844a0a9ea190fb90ce"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>initSoftdevice</b> ()</td></tr>
<tr class="separator:ac59720a43020d2844a0a9ea190fb90ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51bc504415727e420f008f49f6134240"><td class="memItemLeft" align="right" valign="top"><a id="a51bc504415727e420f008f49f6134240"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>createCharacteristics</b> ()</td></tr>
<tr class="separator:a51bc504415727e420f008f49f6134240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd358bba18866f5a76a4f045e5f3173e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#afd358bba18866f5a76a4f045e5f3173e">initServices</a> ()</td></tr>
<tr class="memdesc:afd358bba18866f5a76a4f045e5f3173e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the BLE stack.  <a href="classStack.html#afd358bba18866f5a76a4f045e5f3173e">More...</a><br /></td></tr>
<tr class="separator:afd358bba18866f5a76a4f045e5f3173e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27067a43e4e48e570dbe60f8df56214b"><td class="memItemLeft" align="right" valign="top"><a id="a27067a43e4e48e570dbe60f8df56214b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a27067a43e4e48e570dbe60f8df56214b">isDisconnecting</a> ()</td></tr>
<tr class="memdesc:a27067a43e4e48e570dbe60f8df56214b"><td class="mdescLeft">&#160;</td><td class="mdescRight">In case a disconnect has been called, we cannot allow another write or we'll get an Fatal Error 8. <br /></td></tr>
<tr class="separator:a27067a43e4e48e570dbe60f8df56214b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a04768d69f6f6e97c4219cf161e137"><td class="memItemLeft" align="right" valign="top"><a id="a52a04768d69f6f6e97c4219cf161e137"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isConnected</b> ()</td></tr>
<tr class="separator:a52a04768d69f6f6e97c4219cf161e137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a941207e8cad83a588e921f2b9d7d80ae"><td class="memItemLeft" align="right" valign="top"><a id="a941207e8cad83a588e921f2b9d7d80ae"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isConnectedPeripheral</b> ()</td></tr>
<tr class="separator:a941207e8cad83a588e921f2b9d7d80ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af32569a81c45d93581316d868b8f8763"><td class="memItemLeft" align="right" valign="top"><a id="af32569a81c45d93581316d868b8f8763"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>getConnectionHandle</b> ()</td></tr>
<tr class="separator:af32569a81c45d93581316d868b8f8763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9872a0597f38a05a69122d6bf421c261"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a9872a0597f38a05a69122d6bf421c261">shutdown</a> ()</td></tr>
<tr class="memdesc:a9872a0597f38a05a69122d6bf421c261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the BLE stack.  <a href="classStack.html#a9872a0597f38a05a69122d6bf421c261">More...</a><br /></td></tr>
<tr class="separator:a9872a0597f38a05a69122d6bf421c261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8689fb3bdc4db5bc9bd7aaf0e9328b13"><td class="memItemLeft" align="right" valign="top"><a id="a8689fb3bdc4db5bc9bd7aaf0e9328b13"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a8689fb3bdc4db5bc9bd7aaf0e9328b13">setClockSource</a> (nrf_clock_lf_cfg_t clockSource)</td></tr>
<tr class="memdesc:a8689fb3bdc4db5bc9bd7aaf0e9328b13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set initial clock source, not applied unless done before radio init. <br /></td></tr>
<tr class="separator:a8689fb3bdc4db5bc9bd7aaf0e9328b13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939f8bf7733d720435d79e975937a04d"><td class="memItemLeft" align="right" valign="top"><a id="a939f8bf7733d720435d79e975937a04d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a939f8bf7733d720435d79e975937a04d">updateMinConnectionInterval</a> (uint16_t connectionInterval_1_25_ms)</td></tr>
<tr class="memdesc:a939f8bf7733d720435d79e975937a04d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set and update the preferred minimum connection interval in units of 1.25 ms. <br /></td></tr>
<tr class="separator:a939f8bf7733d720435d79e975937a04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a4ab4bf307a562d9268b951937d697"><td class="memItemLeft" align="right" valign="top"><a id="a68a4ab4bf307a562d9268b951937d697"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a68a4ab4bf307a562d9268b951937d697">updateMaxConnectionInterval</a> (uint16_t connectionInterval_1_25_ms)</td></tr>
<tr class="memdesc:a68a4ab4bf307a562d9268b951937d697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set and update the preferred maximum connection interval in units of 1.25 ms. <br /></td></tr>
<tr class="separator:a68a4ab4bf307a562d9268b951937d697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade78ae69a6955e9dcc6a6008db81c26c"><td class="memItemLeft" align="right" valign="top"><a id="ade78ae69a6955e9dcc6a6008db81c26c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#ade78ae69a6955e9dcc6a6008db81c26c">updateSlaveLatency</a> (uint16_t slaveLatency)</td></tr>
<tr class="memdesc:ade78ae69a6955e9dcc6a6008db81c26c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set and update the preferred slave latency count. <br /></td></tr>
<tr class="separator:ade78ae69a6955e9dcc6a6008db81c26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751a7731e79e95731814c5cdf88bddb6"><td class="memItemLeft" align="right" valign="top"><a id="a751a7731e79e95731814c5cdf88bddb6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a751a7731e79e95731814c5cdf88bddb6">updateConnectionSupervisionTimeout</a> (uint16_t conSupTimeout_10_ms)</td></tr>
<tr class="memdesc:a751a7731e79e95731814c5cdf88bddb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set and update the preferred connection supervision timeout in units of 10 ms. <br /></td></tr>
<tr class="separator:a751a7731e79e95731814c5cdf88bddb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae204e219976abb6f4a4b32eee34f509d"><td class="memItemLeft" align="right" valign="top"><a id="ae204e219976abb6f4a4b32eee34f509d"></a>
<a class="el" href="classStack.html">Stack</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#ae204e219976abb6f4a4b32eee34f509d">addService</a> (<a class="el" href="classService.html">Service</a> *svc)</td></tr>
<tr class="memdesc:ae204e219976abb6f4a4b32eee34f509d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a service to the stack. <br /></td></tr>
<tr class="separator:ae204e219976abb6f4a4b32eee34f509d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13df03f3f3267f20245a4f62f8c87eb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a13df03f3f3267f20245a4f62f8c87eb9">startScanning</a> ()</td></tr>
<tr class="memdesc:a13df03f3f3267f20245a4f62f8c87eb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start scanning for devices.  <a href="classStack.html#a13df03f3f3267f20245a4f62f8c87eb9">More...</a><br /></td></tr>
<tr class="separator:a13df03f3f3267f20245a4f62f8c87eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e64e1ed8f68f6d2de0724db04482df"><td class="memItemLeft" align="right" valign="top"><a id="a72e64e1ed8f68f6d2de0724db04482df"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a72e64e1ed8f68f6d2de0724db04482df">stopScanning</a> ()</td></tr>
<tr class="memdesc:a72e64e1ed8f68f6d2de0724db04482df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop scanning for devices. <br /></td></tr>
<tr class="separator:a72e64e1ed8f68f6d2de0724db04482df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa06d33178d2a12a5fcebb42039a5b42d"><td class="memItemLeft" align="right" valign="top"><a id="aa06d33178d2a12a5fcebb42039a5b42d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#aa06d33178d2a12a5fcebb42039a5b42d">isScanning</a> ()</td></tr>
<tr class="memdesc:aa06d33178d2a12a5fcebb42039a5b42d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if currently scanning. <br /></td></tr>
<tr class="separator:aa06d33178d2a12a5fcebb42039a5b42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e30a4977765cdf7e596ec8eb99a92a"><td class="memItemLeft" align="right" valign="top">cs_ret_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#af4e30a4977765cdf7e596ec8eb99a92a">connect</a> (const <a class="el" href="structdevice__address__t.html">device_address_t</a> &amp;address, uint16_t timeoutMs=3000)</td></tr>
<tr class="memdesc:af4e30a4977765cdf7e596ec8eb99a92a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to a device.  <a href="classStack.html#af4e30a4977765cdf7e596ec8eb99a92a">More...</a><br /></td></tr>
<tr class="separator:af4e30a4977765cdf7e596ec8eb99a92a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4920dc3205f06fbb59c3db0ce7a4e36"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#ac4920dc3205f06fbb59c3db0ce7a4e36">onBleEvent</a> (const ble_evt_t *p_ble_evt)</td></tr>
<tr class="memdesc:ac4920dc3205f06fbb59c3db0ce7a4e36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles BLE events.  <a href="classStack.html#ac4920dc3205f06fbb59c3db0ce7a4e36">More...</a><br /></td></tr>
<tr class="separator:ac4920dc3205f06fbb59c3db0ce7a4e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebfeabeb184956892555bb1c4114b8b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#aebfeabeb184956892555bb1c4114b8b6">onBleEventInterrupt</a> (const ble_evt_t *p_ble_evt, bool isInterrupt)</td></tr>
<tr class="memdesc:aebfeabeb184956892555bb1c4114b8b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that handles BLE events on interrupt level.  <a href="classStack.html#aebfeabeb184956892555bb1c4114b8b6">More...</a><br /></td></tr>
<tr class="separator:aebfeabeb184956892555bb1c4114b8b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95230b267f372b64e9e5283f71bab606"><td class="memItemLeft" align="right" valign="top"><a id="a95230b267f372b64e9e5283f71bab606"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>secReqTimeoutHandler</b> (void *p_context)</td></tr>
<tr class="separator:a95230b267f372b64e9e5283f71bab606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab16aa9d02976fadc72722ac3d1956d"><td class="memItemLeft" align="right" valign="top"><a id="a8ab16aa9d02976fadc72722ac3d1956d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setAesEncrypted</b> (bool encrypted)</td></tr>
<tr class="separator:a8ab16aa9d02976fadc72722ac3d1956d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9016f9e712c1010884fe275887c35663"><td class="memItemLeft" align="right" valign="top"><a id="a9016f9e712c1010884fe275887c35663"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>disconnect</b> ()</td></tr>
<tr class="separator:a9016f9e712c1010884fe275887c35663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60d6d440e181eb268acc100eda09bd3e"><td class="memItemLeft" align="right" valign="top"><a id="a60d6d440e181eb268acc100eda09bd3e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onDiscoveryEvent</b> (ble_db_discovery_evt_t *event)</td></tr>
<tr class="separator:a60d6d440e181eb268acc100eda09bd3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b9291f52c70ea370cbd05c1ba513fa"><td class="memItemLeft" align="right" valign="top"><a id="a01b9291f52c70ea370cbd05c1ba513fa"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>checkCondition</b> (condition_t condition, bool expectation)</td></tr>
<tr class="separator:a01b9291f52c70ea370cbd05c1ba513fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBaseClass"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBaseClass')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBaseClass.html">BaseClass&lt; 3 &gt;</a></td></tr>
<tr class="memitem:a9e2337c2676bf9fbcca00ab7750bbf14 inherit pub_methods_classBaseClass"><td class="memItemLeft" align="right" valign="top"><a id="a9e2337c2676bf9fbcca00ab7750bbf14"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isInitialized</b> (uint8_t i=0)</td></tr>
<tr class="separator:a9e2337c2676bf9fbcca00ab7750bbf14 inherit pub_methods_classBaseClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0290904b966a159231f848cfb5fd97a4 inherit pub_methods_classBaseClass"><td class="memItemLeft" align="right" valign="top"><a id="a0290904b966a159231f848cfb5fd97a4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setInitialized</b> (uint8_t i=0)</td></tr>
<tr class="separator:a0290904b966a159231f848cfb5fd97a4 inherit pub_methods_classBaseClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4391d2f80e021fc4420fb48278a314ae inherit pub_methods_classBaseClass"><td class="memItemLeft" align="right" valign="top"><a id="a4391d2f80e021fc4420fb48278a314ae"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setUninitialized</b> (uint8_t i=0)</td></tr>
<tr class="separator:a4391d2f80e021fc4420fb48278a314ae inherit pub_methods_classBaseClass"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aae0c8c3030393a84f20d528e60813b9b"><td class="memItemLeft" align="right" valign="top"><a id="aae0c8c3030393a84f20d528e60813b9b"></a>
static <a class="el" href="classStack.html">Stack</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getInstance</b> ()</td></tr>
<tr class="separator:aae0c8c3030393a84f20d528e60813b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac472f79d0221f4e7b892dc5cfe846829"><td class="memItemLeft" align="right" valign="top"><a id="ac472f79d0221f4e7b892dc5cfe846829"></a>
static const uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#ac472f79d0221f4e7b892dc5cfe846829">MAX_SERVICE_COUNT</a> = 5</td></tr>
<tr class="memdesc:ac472f79d0221f4e7b892dc5cfe846829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of services (currently set to 5) <br /></td></tr>
<tr class="separator:ac472f79d0221f4e7b892dc5cfe846829"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3c5f678cf2ba670488f11f361649e870"><td class="memItemLeft" align="right" valign="top"><a id="a3c5f678cf2ba670488f11f361649e870"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a3c5f678cf2ba670488f11f361649e870">updateConnParams</a> ()</td></tr>
<tr class="memdesc:a3c5f678cf2ba670488f11f361649e870"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update connection parameters, can be called when already initialized. <br /></td></tr>
<tr class="separator:a3c5f678cf2ba670488f11f361649e870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97a096a65864af6cf8aa8a41bcfbb05"><td class="memItemLeft" align="right" valign="top"><a id="ab97a096a65864af6cf8aa8a41bcfbb05"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onConnect</b> (const ble_evt_t *p_ble_evt)</td></tr>
<tr class="separator:ab97a096a65864af6cf8aa8a41bcfbb05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a460ac51ca1b495677b296836a031b63c"><td class="memItemLeft" align="right" valign="top"><a id="a460ac51ca1b495677b296836a031b63c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onDisconnect</b> (const ble_evt_t *p_ble_evt)</td></tr>
<tr class="separator:a460ac51ca1b495677b296836a031b63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadfaffa161c34a7d5a646c3423591222"><td class="memItemLeft" align="right" valign="top"><a id="aadfaffa161c34a7d5a646c3423591222"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onGapTimeout</b> (uint8_t src)</td></tr>
<tr class="separator:aadfaffa161c34a7d5a646c3423591222"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47de0931d5d0bfd86f07edb41b582037"><td class="memItemLeft" align="right" valign="top"><a id="a47de0931d5d0bfd86f07edb41b582037"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onConnectionTimeout</b> ()</td></tr>
<tr class="separator:a47de0931d5d0bfd86f07edb41b582037"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e15da65593c0634c206853c2b5259d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a6e15da65593c0634c206853c2b5259d5">onIncomingConnected</a> (const ble_evt_t *p_ble_evt)</td></tr>
<tr class="memdesc:a6e15da65593c0634c206853c2b5259d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection request.  <a href="classStack.html#a6e15da65593c0634c206853c2b5259d5">More...</a><br /></td></tr>
<tr class="separator:a6e15da65593c0634c206853c2b5259d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfdd8bc52729a8de89271c60469901e9"><td class="memItemLeft" align="right" valign="top"><a id="abfdd8bc52729a8de89271c60469901e9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onIncomingDisconnected</b> (const ble_evt_t *p_ble_evt)</td></tr>
<tr class="separator:abfdd8bc52729a8de89271c60469901e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413daa6286db2309a604e55434ad8336"><td class="memItemLeft" align="right" valign="top"><a id="a413daa6286db2309a604e55434ad8336"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onOutgoingConnected</b> ()</td></tr>
<tr class="separator:a413daa6286db2309a604e55434ad8336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac79c28ae79c62cd190f751aeaad466f2"><td class="memItemLeft" align="right" valign="top"><a id="ac79c28ae79c62cd190f751aeaad466f2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onOutgoingDisconnected</b> ()</td></tr>
<tr class="separator:ac79c28ae79c62cd190f751aeaad466f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff387bf0cee4db116665a7000dde166c"><td class="memItemLeft" align="right" valign="top"><a id="aff387bf0cee4db116665a7000dde166c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onMemoryRequest</b> (uint16_t connectionHandle)</td></tr>
<tr class="separator:aff387bf0cee4db116665a7000dde166c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a646b8b2aab4c04570c2617799ebf8d80"><td class="memItemLeft" align="right" valign="top"><a id="a646b8b2aab4c04570c2617799ebf8d80"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onMemoryRelease</b> (uint16_t connectionHandle)</td></tr>
<tr class="separator:a646b8b2aab4c04570c2617799ebf8d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59f075c56a4a2ecc0b76df6a1f9034e8"><td class="memItemLeft" align="right" valign="top"><a id="a59f075c56a4a2ecc0b76df6a1f9034e8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>onWrite</b> (const ble_gatts_evt_write_t &amp;writeEvt)</td></tr>
<tr class="separator:a59f075c56a4a2ecc0b76df6a1f9034e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb31d387de01d97d081568b69a7a9ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStack.html#a5eb31d387de01d97d081568b69a7a9ba">onTxComplete</a> (const ble_evt_t *p_ble_evt)</td></tr>
<tr class="memdesc:a5eb31d387de01d97d081568b69a7a9ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmission complete event.  <a href="classStack.html#a5eb31d387de01d97d081568b69a7a9ba">More...</a><br /></td></tr>
<tr class="separator:a5eb31d387de01d97d081568b69a7a9ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfde087d387c9c25bf7f2688865fc19d"><td class="memItemLeft" align="right" valign="top"><a id="acfde087d387c9c25bf7f2688865fc19d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>startConnectionAliveTimer</b> ()</td></tr>
<tr class="separator:acfde087d387c9c25bf7f2688865fc19d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a6e09f41bfe31942a9997fd0b86404"><td class="memItemLeft" align="right" valign="top"><a id="a22a6e09f41bfe31942a9997fd0b86404"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>stopConnectionAliveTimer</b> ()</td></tr>
<tr class="separator:a22a6e09f41bfe31942a9997fd0b86404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0a02a4ea59c99f177fa142688f125f"><td class="memItemLeft" align="right" valign="top"><a id="aec0a02a4ea59c99f177fa142688f125f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>resetConnectionAliveTimer</b> ()</td></tr>
<tr class="separator:aec0a02a4ea59c99f177fa142688f125f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3a5772f96f8ca4d5491823fe11b4e12c"><td class="memItemLeft" align="right" valign="top"><a id="a3a5772f96f8ca4d5491823fe11b4e12c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_disconnectingInProgress</b> = false</td></tr>
<tr class="separator:a3a5772f96f8ca4d5491823fe11b4e12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109b6e1f98d623594bff3e4092ea7aa4"><td class="memItemLeft" align="right" valign="top"><a id="a109b6e1f98d623594bff3e4092ea7aa4"></a>
<a class="el" href="classfixed__tuple.html">Services_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>_services</b></td></tr>
<tr class="separator:a109b6e1f98d623594bff3e4092ea7aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dbcef73e104f8f808d7f7696c5bdb3"><td class="memItemLeft" align="right" valign="top"><a id="a63dbcef73e104f8f808d7f7696c5bdb3"></a>
nrf_clock_lf_cfg_t&#160;</td><td class="memItemRight" valign="bottom"><b>_clockSource</b></td></tr>
<tr class="separator:a63dbcef73e104f8f808d7f7696c5bdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af70a8ae6667d03bb80b4aed70da4606b"><td class="memItemLeft" align="right" valign="top"><a id="af70a8ae6667d03bb80b4aed70da4606b"></a>
ble_gap_conn_params_t&#160;</td><td class="memItemRight" valign="bottom"><b>_connectionParams</b></td></tr>
<tr class="separator:af70a8ae6667d03bb80b4aed70da4606b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab61bf2193d0d24e7c58beedc154886a8"><td class="memItemLeft" align="right" valign="top"><a id="ab61bf2193d0d24e7c58beedc154886a8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_scanning</b> = false</td></tr>
<tr class="separator:ab61bf2193d0d24e7c58beedc154886a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a68dcfb3f6744deb28c75fc7e0606a2"><td class="memItemLeft" align="right" valign="top"><a id="a6a68dcfb3f6744deb28c75fc7e0606a2"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>_connectionHandle</b> = BLE_CONN_HANDLE_INVALID</td></tr>
<tr class="separator:a6a68dcfb3f6744deb28c75fc7e0606a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fd57a3b304d3cf8e46d2e4d920bee45"><td class="memItemLeft" align="right" valign="top"><a id="a7fd57a3b304d3cf8e46d2e4d920bee45"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_connectionIsOutgoing</b> = false</td></tr>
<tr class="separator:a7fd57a3b304d3cf8e46d2e4d920bee45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60caa2a118749120ca1fd63cb2f1e564"><td class="memItemLeft" align="right" valign="top"><a id="a60caa2a118749120ca1fd63cb2f1e564"></a>
app_timer_t&#160;</td><td class="memItemRight" valign="bottom"><b>_connectionKeepAliveTimerData</b></td></tr>
<tr class="separator:a60caa2a118749120ca1fd63cb2f1e564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3316fafa03238c2e04e21168940094d9"><td class="memItemLeft" align="right" valign="top"><a id="a3316fafa03238c2e04e21168940094d9"></a>
app_timer_id_t&#160;</td><td class="memItemRight" valign="bottom"><b>_connectionKeepAliveTimerId</b> = NULL</td></tr>
<tr class="separator:a3316fafa03238c2e04e21168940094d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6261f80a46d0ba8efeae473edcb247bd"><td class="memItemLeft" align="right" valign="top"><a id="a6261f80a46d0ba8efeae473edcb247bd"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_scanBuffer</b> [31]</td></tr>
<tr class="separator:a6261f80a46d0ba8efeae473edcb247bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb88992956e21d541cf722f50ec8fb4"><td class="memItemLeft" align="right" valign="top"><a id="a9fb88992956e21d541cf722f50ec8fb4"></a>
ble_data_t&#160;</td><td class="memItemRight" valign="bottom"><b>_scanBufferStruct</b> = { _scanBuffer, sizeof(_scanBuffer) }</td></tr>
<tr class="separator:a9fb88992956e21d541cf722f50ec8fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a204ebee46beccaa458e29bb81cf9800f"><td class="memItemLeft" align="right" valign="top"><a id="a204ebee46beccaa458e29bb81cf9800f"></a>
ble_db_discovery_t&#160;</td><td class="memItemRight" valign="bottom"><b>_discoveryModule</b></td></tr>
<tr class="separator:a204ebee46beccaa458e29bb81cf9800f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d075f868f04201135e35a15a1d74b4f"><td class="memItemLeft" align="right" valign="top"><a id="a3d075f868f04201135e35a15a1d74b4f"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>_writeMtu</b> = BLE_GATT_ATT_MTU_DEFAULT - 3</td></tr>
<tr class="separator:a3d075f868f04201135e35a15a1d74b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42f621ee3ef213ec24e84ed39d0bc598"><td class="memItemLeft" align="right" valign="top"><a id="a42f621ee3ef213ec24e84ed39d0bc598"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>_writeBuf</b> [200]</td></tr>
<tr class="separator:a42f621ee3ef213ec24e84ed39d0bc598"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>nRF51822 specific implementation of the BLEStack </p>
<p>The <a class="el" href="classStack.html" title="nRF51822 specific implementation of the BLEStack">Stack</a> class is a direct descendant from BLEStack. It is implemented as a singleton, such that it can only be allocated once and it can be reached from everywhere in the code, especially in interrupt handlers. However, please, if an object depends on it, try to make this dependency explicit, and use this stack object as an argument w.r.t. this object. This makes dependencies traceable for the user. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af4e30a4977765cdf7e596ec8eb99a92a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e30a4977765cdf7e596ec8eb99a92a">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cs_ret_code_t Stack::connect </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdevice__address__t.html">device_address_t</a> &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timeoutMs</em> = <code>3000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to a device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">address</td><td>Address to connect to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeoutMs</td><td><a class="el" href="classTime.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: Sep 24,...">Time</a> in ms before giving up to connect.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_BUSY when already connected to a device. </dd></dl>

</div>
</div>
<a id="a891e74e94124bd2f19d94b8cd0c0ddc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891e74e94124bd2f19d94b8cd0c0ddc8">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization of the BLE stack. </p>
<p>Performs a series of tasks:</p><ul>
<li>disables softdevice if it is currently enabled</li>
<li>enables softdevice with own clock and assertion handler</li>
<li>enable service changed characteristic for S110</li>
<li>disable automatic address recycling for S110</li>
<li>set BLE device name</li>
<li>set appearance (e.g. used in GUIs to interface with BLE devices)</li>
<li>set connection parameters</li>
<li>set Tx power level</li>
<li>set the callback for BLE events (if we use Source/sd_common/softdevice_handler.c in Nordic's SDK) </li>
</ul>

</div>
</div>
<a id="ada32d485742dd8f9c402bd59bc45319d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada32d485742dd8f9c402bd59bc45319d">&#9670;&nbsp;</a></span>initRadio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::initRadio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialization of the radio. </p>

</div>
</div>
<a id="afd358bba18866f5a76a4f045e5f3173e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd358bba18866f5a76a4f045e5f3173e">&#9670;&nbsp;</a></span>initServices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::initServices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the BLE stack. </p>
<p>Start can only be called once. It starts all services. If one of these services cannot be started, there is currently no exception handling. The stack does not start the Softdevice. This needs to be done before in <a class="el" href="classStack.html#a891e74e94124bd2f19d94b8cd0c0ddc8" title="Initialization of the BLE stack.">init()</a>. </p>

</div>
</div>
<a id="ac4920dc3205f06fbb59c3db0ce7a4e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4920dc3205f06fbb59c3db0ce7a4e36">&#9670;&nbsp;</a></span>onBleEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::onBleEvent </td>
          <td>(</td>
          <td class="paramtype">const ble_evt_t *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles BLE events. </p>
<p>A BLE event is generated, these can be connect or disconnect events. It can also be RSSI values that changed, or an authorization request. Not all event structures are exactly the same over the different SoftDevices, so there are some defines for minor changes. And of course, e.g. the S110 softdevice cannot listen to advertisements at all, so BLE_GAP_EVT_ADV_REPORT is entirely disabled.</p>
<p>TODO: Currently we loop through every service and send e.g. BLE_GATTS_EVT_WRITE only when some handle matches. It is faster to set up maps from handles to directly the right function. </p>

</div>
</div>
<a id="aebfeabeb184956892555bb1c4114b8b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebfeabeb184956892555bb1c4114b8b6">&#9670;&nbsp;</a></span>onBleEventInterrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::onBleEventInterrupt </td>
          <td>(</td>
          <td class="paramtype">const ble_evt_t *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isInterrupt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function that handles BLE events on interrupt level. </p>
<p>These need to be handled quickly and not use any class state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_ble_evt</td><td>The BLE event. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">isInterrupt</td><td>Whether this function is actually called on interrupt level. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6e15da65593c0634c206853c2b5259d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e15da65593c0634c206853c2b5259d5">&#9670;&nbsp;</a></span>onIncomingConnected()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::onIncomingConnected </td>
          <td>(</td>
          <td class="paramtype">const ble_evt_t *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connection request. </p>
<p>On a connection request send it to all services. </p>

</div>
</div>
<a id="a5eb31d387de01d97d081568b69a7a9ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5eb31d387de01d97d081568b69a7a9ba">&#9670;&nbsp;</a></span>onTxComplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::onTxComplete </td>
          <td>(</td>
          <td class="paramtype">const ble_evt_t *&#160;</td>
          <td class="paramname"><em>p_ble_evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transmission complete event. </p>
<p>Inform all services that transmission was completed in case they have notifications pending </p>

</div>
</div>
<a id="a9872a0597f38a05a69122d6bf421c261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9872a0597f38a05a69122d6bf421c261">&#9670;&nbsp;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the BLE stack. </p>
<p>The function <a class="el" href="classStack.html#a9872a0597f38a05a69122d6bf421c261" title="Shutdown the BLE stack.">shutdown()</a> is the counterpart of start(). It does stop all services. It does not check if these services have actually been started.</p>
<p>It will also stop advertising. The SoftDevice will not be shut down.</p>
<p>After a <a class="el" href="classStack.html#a9872a0597f38a05a69122d6bf421c261" title="Shutdown the BLE stack.">shutdown()</a> the function start() can be called again. </p>

</div>
</div>
<a id="a13df03f3f3267f20245a4f62f8c87eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13df03f3f3267f20245a4f62f8c87eb9">&#9670;&nbsp;</a></span>startScanning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Stack::startScanning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start scanning for devices. </p>
<p>Only call the following functions with a S120 or S130 device that can play a central role. The following functions are probably the ones your recognize from implementing BLE functionality on Android or iOS if you are a smartphone developer. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>source/include/ble/<a class="el" href="cs__Stack_8h_source.html">cs_Stack.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
