<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bluenet: Trackable Parser Private API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
	DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bluenet
   &#160;<span id="projectnumber">5.4.0</span>
   </div>
   <div id="projectbrief">Bluenet, the firmware for the Crownstone power outlet</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_protocol_CUCKOO_FILTER.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Trackable Parser Private API </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This page describes the packets that related Cuckoo filters. Thes filters can be used in the Trackable Parser component at a more granular level.</p>
<h1><a class="anchor" id="autotoc_md518"></a>
Index</h1>
<p >Packets</p><ul>
<li>Cuckoo filter data</li>
<li>Filter entry data</li>
<li>Extended filter entry data</li>
<li>Compressed cuckoo filter entry data</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md519"></a>
Compressed commands</h2>
<p >The cuckoo filter only stores fingerprints of entries, so it is possible to update remote filters by simply communicating these compressed (constant size) packets rather than communicating the full entry (variable length) to achieve the same result. This requires the host to be up to date concerning the implementation of the filter method and results in less communication.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md520"></a>
Packets</h2>
<h3><a class="anchor" id="autotoc_md521"></a>
Cuckoo filter data</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">number of buckets log2   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Cuckoofilter will contain 2^(num buckets) buckets.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Keys per bucket   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Each bucket will contain at most this amount of fingerprints.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">extended fingerprint   </td><td class="markdownTableBodyNone">victim fingerprint   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">Fingerprint of last item that failed to be inserted, 0 if none.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t[]   </td><td class="markdownTableBodyNone">fingerprint array   </td><td class="markdownTableBodyNone">2^N*K   </td><td class="markdownTableBodyNone">Fingerprint array. Here N = number of buckets log 2, K is number of fingerprints per bucket   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md522"></a>
Cuckoo filter entry data</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Len   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Length of the data array.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Data   </td><td class="markdownTableBodyNone">Len   </td><td class="markdownTableBodyNone">Actual data of the entry   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md523"></a>
Extended cuckoo filter entry data</h3>
<p >Extended fingerprints with bucket index A/B swapped identify the same entry in the cuckoo filter.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint16_t   </td><td class="markdownTableBodyNone">Fingerprint   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Fingerprint of the data to add    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Bucket index A   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Index of the bucket to that the fingerprint belongs to.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Bucket index B   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Alternative bucket that the fingerprint belongs to.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md524"></a>
Compressed cuckoo filter entry data</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint16_t   </td><td class="markdownTableBodyNone">Fingerprint   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Fingerprint of the data to add    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Bucket index   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Index of the bucket to that the fingerprint belongs to.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
