<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bluenet: MeshModelMulticastAcked Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bluenet
   &#160;<span id="projectnumber">5.4.0</span>
   </div>
   <div id="projectbrief">Bluenet, the firmware for the Crownstone power outlet</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMeshModelMulticastAcked-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MeshModelMulticastAcked Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class that:  
 <a href="classMeshModelMulticastAcked.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cs__MeshModelMulticastAcked_8h_source.html">cs_MeshModelMulticastAcked.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a02f944647284e7fc3fc9e7e38c908276"><td class="memItemLeft" align="right" valign="top"><a id="a02f944647284e7fc3fc9e7e38c908276"></a>
typedef function&lt; void(const <a class="el" href="structMeshUtil_1_1cs__mesh__received__msg__t.html">MeshUtil::cs_mesh_received_msg_t</a> &amp;msg, <a class="el" href="structcs__result__t.html">cs_result_t</a> &amp;result)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#a02f944647284e7fc3fc9e7e38c908276">callback_msg_t</a></td></tr>
<tr class="memdesc:a02f944647284e7fc3fc9e7e38c908276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function definition. <br /></td></tr>
<tr class="separator:a02f944647284e7fc3fc9e7e38c908276"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:addf06e8610e311fca1009c6a86697c21"><td class="memItemLeft" align="right" valign="top"><a id="addf06e8610e311fca1009c6a86697c21"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#addf06e8610e311fca1009c6a86697c21">registerMsgHandler</a> (const <a class="el" href="classMeshModelMulticastAcked.html#a02f944647284e7fc3fc9e7e38c908276">callback_msg_t</a> &amp;closure)</td></tr>
<tr class="memdesc:addf06e8610e311fca1009c6a86697c21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a callback function that's called when a message from the mesh is received. <br /></td></tr>
<tr class="separator:addf06e8610e311fca1009c6a86697c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeec0c0ffdcece6edc4f3a61e76ab76f"><td class="memItemLeft" align="right" valign="top"><a id="aeeec0c0ffdcece6edc4f3a61e76ab76f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#aeeec0c0ffdcece6edc4f3a61e76ab76f">init</a> (uint16_t modelId)</td></tr>
<tr class="memdesc:aeeec0c0ffdcece6edc4f3a61e76ab76f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init the model. <br /></td></tr>
<tr class="separator:aeeec0c0ffdcece6edc4f3a61e76ab76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7536f6aa42844bb9e08c97fe2be4e221"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#a7536f6aa42844bb9e08c97fe2be4e221">configureSelf</a> (dsm_handle_t appkeyHandle)</td></tr>
<tr class="memdesc:a7536f6aa42844bb9e08c97fe2be4e221"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the model.  <a href="classMeshModelMulticastAcked.html#a7536f6aa42844bb9e08c97fe2be4e221">More...</a><br /></td></tr>
<tr class="separator:a7536f6aa42844bb9e08c97fe2be4e221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e42f8473344b01b248b038c5e2f745"><td class="memItemLeft" align="right" valign="top">cs_ret_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#ab9e42f8473344b01b248b038c5e2f745">addToQueue</a> (<a class="el" href="structMeshUtil_1_1cs__mesh__queue__item__t.html">MeshUtil::cs_mesh_queue_item_t</a> &amp;item)</td></tr>
<tr class="memdesc:ab9e42f8473344b01b248b038c5e2f745"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a msg to an empty spot in the queue (transmissions == 0).  <a href="classMeshModelMulticastAcked.html#ab9e42f8473344b01b248b038c5e2f745">More...</a><br /></td></tr>
<tr class="separator:ab9e42f8473344b01b248b038c5e2f745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa69ad7368803502342397b7d064228e2"><td class="memItemLeft" align="right" valign="top"><a id="aa69ad7368803502342397b7d064228e2"></a>
cs_ret_code_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#aa69ad7368803502342397b7d064228e2">remFromQueue</a> (cs_mesh_model_msg_type_t type, uint16_t id)</td></tr>
<tr class="memdesc:aa69ad7368803502342397b7d064228e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a msg from the queue. <br /></td></tr>
<tr class="separator:aa69ad7368803502342397b7d064228e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a6466ab26561cfda256fdff1ccc9fd"><td class="memItemLeft" align="right" valign="top"><a id="a17a6466ab26561cfda256fdff1ccc9fd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#a17a6466ab26561cfda256fdff1ccc9fd">tick</a> (uint32_t tickCount)</td></tr>
<tr class="memdesc:a17a6466ab26561cfda256fdff1ccc9fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">To be called at a regular interval. <br /></td></tr>
<tr class="separator:a17a6466ab26561cfda256fdff1ccc9fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eeb72d0d0dc3e864419c1ccff366809"><td class="memItemLeft" align="right" valign="top"><a id="a7eeb72d0d0dc3e864419c1ccff366809"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMeshModelMulticastAcked.html#a7eeb72d0d0dc3e864419c1ccff366809">handleMsg</a> (const access_message_rx_t *accessMsg)</td></tr>
<tr class="memdesc:a7eeb72d0d0dc3e864419c1ccff366809"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal usage. <br /></td></tr>
<tr class="separator:a7eeb72d0d0dc3e864419c1ccff366809"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class that: </p>
<ul>
<li>Sends and receives multicast acked messages.</li>
<li>Queues messages to be sent.</li>
<li>Handles queue 1 by 1. </li>
</ul>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ab9e42f8473344b01b248b038c5e2f745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e42f8473344b01b248b038c5e2f745">&#9670;&nbsp;</a></span>addToQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cs_ret_code_t MeshModelMulticastAcked::addToQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMeshUtil_1_1cs__mesh__queue__item__t.html">MeshUtil::cs_mesh_queue_item_t</a> &amp;&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a msg to an empty spot in the queue (transmissions == 0). </p>
<p>Start looking at SendIndex, then reverse iterate over the queue. Then set the new SendIndex at the newly added item, so that it will be send first. We do the reverse iterate, so that the old SendIndex should be handled early (for a large enough queue). </p>

</div>
</div>
<a id="a7536f6aa42844bb9e08c97fe2be4e221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7536f6aa42844bb9e08c97fe2be4e221">&#9670;&nbsp;</a></span>configureSelf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MeshModelMulticastAcked::configureSelf </td>
          <td>(</td>
          <td class="paramtype">dsm_handle_t&#160;</td>
          <td class="paramname"><em>appkeyHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the model. </p>
<p>Subscribes, and sets publish address. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>source/include/mesh/<a class="el" href="cs__MeshModelMulticastAcked_8h_source.html">cs_MeshModelMulticastAcked.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
