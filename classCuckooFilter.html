<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bluenet: CuckooFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
	DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bluenet
   &#160;<span id="projectnumber">5.4.0</span>
   </div>
   <div id="projectbrief">Bluenet, the firmware for the Crownstone power outlet</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classCuckooFilter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classCuckooFilter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CuckooFilter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Author: <a class="el" href="classCrownstone.html" title="Crownstone encapsulates all functionality, stack, services, and configuration.">Crownstone</a> Team Copyright: <a class="el" href="classCrownstone.html" title="Crownstone encapsulates all functionality, stack, services, and configuration.">Crownstone</a> (<a href="https://crownstone.rocks">https://crownstone.rocks</a>) Date: 02 Apr., 2021 License: LGPLv3+, Apache License 2.0, and/or MIT (triple-licensed)  
 <a href="classCuckooFilter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cs__CuckooFilter_8h_source.html">cs_CuckooFilter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CuckooFilter:</div>
<div class="dyncontent">
<div class="center"><img src="classCuckooFilter__inherit__graph.png" border="0" usemap="#aCuckooFilter_inherit__map" alt="Inheritance graph"/></div>
<map name="aCuckooFilter_inherit__map" id="aCuckooFilter_inherit__map">
<area shape="rect" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr...." alt="" coords="11,79,112,104"/>
<area shape="rect" href="classFilterInterface.html" title="Used in AssetFiltering as a generic way to query a filter for containment and assetId." alt="" coords="5,5,117,31"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CuckooFilter:</div>
<div class="dyncontent">
<div class="center"><img src="classCuckooFilter__coll__graph.png" border="0" usemap="#aCuckooFilter_coll__map" alt="Collaboration graph"/></div>
<map name="aCuckooFilter_coll__map" id="aCuckooFilter_coll__map">
<area shape="rect" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr...." alt="" coords="11,79,112,104"/>
<area shape="rect" href="classFilterInterface.html" title="Used in AssetFiltering as a generic way to query a filter for containment and assetId." alt="" coords="5,5,117,31"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa1cd614904184eb167c8f44a822836a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuckooFilter.html#aa1cd614904184eb167c8f44a822836a9">isValid</a> () override</td></tr>
<tr class="separator:aa1cd614904184eb167c8f44a822836a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a339c229191a662a34073b78f6f1b4dc7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuckooFilter.html#a339c229191a662a34073b78f6f1b4dc7">contains</a> (const void *key, size_t keyLengthInBytes) override</td></tr>
<tr class="separator:a339c229191a662a34073b78f6f1b4dc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1267c21b23025c37b719d58d4b72fe04"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuckooFilter.html#a1267c21b23025c37b719d58d4b72fe04">size</a> ()</td></tr>
<tr class="memdesc:a1267c21b23025c37b719d58d4b72fe04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes this instance occypies.  <a href="classCuckooFilter.html#a1267c21b23025c37b719d58d4b72fe04">More...</a><br /></td></tr>
<tr class="separator:a1267c21b23025c37b719d58d4b72fe04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a212112f498b8fbf29a6e6468b99d0c"><td class="memItemLeft" align="right" valign="top"><a id="a5a212112f498b8fbf29a6e6468b99d0c" name="a5a212112f498b8fbf29a6e6468b99d0c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>add</b> (cuckoo_fingerprint_t finger, cuckoo_index_t bucketIndex)</td></tr>
<tr class="separator:a5a212112f498b8fbf29a6e6468b99d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6f45c41a708122f64411bc3511e563c"><td class="memItemLeft" align="right" valign="top"><a id="ab6f45c41a708122f64411bc3511e563c" name="ab6f45c41a708122f64411bc3511e563c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>remove</b> (cuckoo_fingerprint_t finger, cuckoo_index_t bucketIndex)</td></tr>
<tr class="separator:ab6f45c41a708122f64411bc3511e563c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77951ed5d19e592fd8b229af91c0d5ba"><td class="memItemLeft" align="right" valign="top"><a id="a77951ed5d19e592fd8b229af91c0d5ba" name="a77951ed5d19e592fd8b229af91c0d5ba"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>contains</b> (cuckoo_fingerprint_t finger, cuckoo_index_t bucketIndex)</td></tr>
<tr class="separator:a77951ed5d19e592fd8b229af91c0d5ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1948765cfb197eb48696c97b552785be"><td class="memItemLeft" align="right" valign="top"><a id="a1948765cfb197eb48696c97b552785be" name="a1948765cfb197eb48696c97b552785be"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>add</b> (cuckoo_key_t key, size_t keyLengthInBytes)</td></tr>
<tr class="separator:a1948765cfb197eb48696c97b552785be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d0bd9ea0bdbbdbabfdd10f911ea303"><td class="memItemLeft" align="right" valign="top"><a id="a42d0bd9ea0bdbbdbabfdd10f911ea303" name="a42d0bd9ea0bdbbdbabfdd10f911ea303"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>remove</b> (cuckoo_key_t key, size_t keyLengthInBytes)</td></tr>
<tr class="separator:a42d0bd9ea0bdbbdbabfdd10f911ea303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9507d6c551e7e5935e5330968702e59"><td class="memItemLeft" align="right" valign="top"><a id="ac9507d6c551e7e5935e5330968702e59" name="ac9507d6c551e7e5935e5330968702e59"></a>
<a class="el" href="structcuckoo__compressed__fingerprint__t.html">cuckoo_compressed_fingerprint_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>getCompressedFingerprint</b> (cuckoo_key_t key, size_t keyLengthInBytes)</td></tr>
<tr class="memdesc:ac9507d6c551e7e5935e5330968702e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduces a key (element) to a compressed fingerprint, consisting of the fingerprint of the key and its associated primary position in the fingerprint array. <br /></td></tr>
<tr class="separator:ac9507d6c551e7e5935e5330968702e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04d9558358986bfdbc1b638e86319acc"><td class="memItemLeft" align="right" valign="top"><a id="a04d9558358986bfdbc1b638e86319acc" name="a04d9558358986bfdbc1b638e86319acc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CuckooFilter</b> (<a class="el" href="structcuckoo__filter__data__t.html">cuckoo_filter_data_t</a> *data)</td></tr>
<tr class="memdesc:a04d9558358986bfdbc1b638e86319acc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wraps a data struct into a <a class="el" href="classCuckooFilter.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr....">CuckooFilter</a> object. <br /></td></tr>
<tr class="separator:a04d9558358986bfdbc1b638e86319acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75a41ab7d2f8043c6293abde8043831"><td class="memItemLeft" align="right" valign="top"><a id="ad75a41ab7d2f8043c6293abde8043831" name="ad75a41ab7d2f8043c6293abde8043831"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CuckooFilter</b> ()</td></tr>
<tr class="memdesc:ad75a41ab7d2f8043c6293abde8043831"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this with loads of care, _data is never checked to be non-nullptr in this class. <br /></td></tr>
<tr class="separator:ad75a41ab7d2f8043c6293abde8043831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899378ee226e4c351df48b0eba101894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuckooFilter.html#a899378ee226e4c351df48b0eba101894">clear</a> ()</td></tr>
<tr class="memdesc:a899378ee226e4c351df48b0eba101894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memsets the bucket_array to 0x00 and sets victim to 0.  <a href="classCuckooFilter.html#a899378ee226e4c351df48b0eba101894">More...</a><br /></td></tr>
<tr class="separator:a899378ee226e4c351df48b0eba101894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24103a7643cdebe8c0ff87b10668d671"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuckooFilter.html#a24103a7643cdebe8c0ff87b10668d671">init</a> (cuckoo_index_t <a class="el" href="classCuckooFilter.html#aad25cbf9355a3f1936bb3f894841b2f6">bucketCount</a>, cuckoo_index_t nestsPerBucket)</td></tr>
<tr class="memdesc:a24103a7643cdebe8c0ff87b10668d671"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the size parameters and then <a class="el" href="classCuckooFilter.html#a899378ee226e4c351df48b0eba101894" title="Memsets the bucket_array to 0x00 and sets victim to 0.">clear()</a>s this object so that the bucket_array is filled with precisely enough 0x00s to represent an empty filter.  <a href="classCuckooFilter.html#a24103a7643cdebe8c0ff87b10668d671">More...</a><br /></td></tr>
<tr class="separator:a24103a7643cdebe8c0ff87b10668d671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad25cbf9355a3f1936bb3f894841b2f6"><td class="memItemLeft" align="right" valign="top"><a id="aad25cbf9355a3f1936bb3f894841b2f6" name="aad25cbf9355a3f1936bb3f894841b2f6"></a>
constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>bucketCount</b> ()</td></tr>
<tr class="memdesc:aad25cbf9355a3f1936bb3f894841b2f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actual bucket count value may be bigger than a cuckoo_index_t can hold. <br /></td></tr>
<tr class="separator:aad25cbf9355a3f1936bb3f894841b2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25246f9c0f087469e8daa4725d4ce7dd"><td class="memItemLeft" align="right" valign="top"><a id="a25246f9c0f087469e8daa4725d4ce7dd" name="a25246f9c0f087469e8daa4725d4ce7dd"></a>
constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>bufferSize</b> ()</td></tr>
<tr class="separator:a25246f9c0f087469e8daa4725d4ce7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb86eb52b13f665defb357a6fff79bbc"><td class="memItemLeft" align="right" valign="top"><a id="acb86eb52b13f665defb357a6fff79bbc" name="acb86eb52b13f665defb357a6fff79bbc"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>contains</b> (const void *key, size_t keyLengthInBytes)=0</td></tr>
<tr class="separator:acb86eb52b13f665defb357a6fff79bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc00bd1b1e7f1343c3b16bb9b50f0df"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFilterInterface.html#a1cc00bd1b1e7f1343c3b16bb9b50f0df">size</a> ()=0</td></tr>
<tr class="separator:a1cc00bd1b1e7f1343c3b16bb9b50f0df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b2ccbf5f3bc5c20dbed7bfd10c5fcf"><td class="memItemLeft" align="right" valign="top"><a id="ab3b2ccbf5f3bc5c20dbed7bfd10c5fcf" name="ab3b2ccbf5f3bc5c20dbed7bfd10c5fcf"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>isValid</b> ()=0</td></tr>
<tr class="separator:ab3b2ccbf5f3bc5c20dbed7bfd10c5fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9401ba8af84a56ad18d0d0df2444c052"><td class="memItemLeft" align="right" valign="top"><a id="a9401ba8af84a56ad18d0d0df2444c052" name="a9401ba8af84a56ad18d0d0df2444c052"></a>
static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>fingerprintCount</b> (size_t <a class="el" href="classCuckooFilter.html#aad25cbf9355a3f1936bb3f894841b2f6">bucketCount</a>, cuckoo_index_t nestsPerBucket)</td></tr>
<tr class="separator:a9401ba8af84a56ad18d0d0df2444c052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26358be265e07aa164e4909695df9fdb"><td class="memItemLeft" align="right" valign="top"><a id="a26358be265e07aa164e4909695df9fdb" name="a26358be265e07aa164e4909695df9fdb"></a>
static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><b>bufferSize</b> (size_t <a class="el" href="classCuckooFilter.html#aad25cbf9355a3f1936bb3f894841b2f6">bucketCount</a>, cuckoo_index_t nestsPerBucket)</td></tr>
<tr class="memdesc:a26358be265e07aa164e4909695df9fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the byte buffer in bytes. <br /></td></tr>
<tr class="separator:a26358be265e07aa164e4909695df9fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5942005f083c09816e8b0b882445208"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCuckooFilter.html#aa5942005f083c09816e8b0b882445208">size</a> (cuckoo_index_t <a class="el" href="classCuckooFilter.html#aad25cbf9355a3f1936bb3f894841b2f6">bucketCount</a>, cuckoo_index_t nestsPerBucket)</td></tr>
<tr class="memdesc:aa5942005f083c09816e8b0b882445208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of bytes a <a class="el" href="classCuckooFilter.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr....">CuckooFilter</a> with the given parameters would occupy.  <a href="classCuckooFilter.html#aa5942005f083c09816e8b0b882445208">More...</a><br /></td></tr>
<tr class="separator:aa5942005f083c09816e8b0b882445208"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Author: <a class="el" href="classCrownstone.html" title="Crownstone encapsulates all functionality, stack, services, and configuration.">Crownstone</a> Team Copyright: <a class="el" href="classCrownstone.html" title="Crownstone encapsulates all functionality, stack, services, and configuration.">Crownstone</a> (<a href="https://crownstone.rocks">https://crownstone.rocks</a>) Date: 02 Apr., 2021 License: LGPLv3+, Apache License 2.0, and/or MIT (triple-licensed) </p>
<p >This library is forked from the public <a href="https://github.com/jonahharris/libcuckoofilter">github repository</a> and initially added to bluenet on 19-02-2021. Code has been extensively refactored for idiomatic use of C++ and many implementation details have changed e.g. to fix implicit narrowing/widening of integers, large recursion and type punning in allocations.</p>
<p >Those changes have been made by the <a class="el" href="classCrownstone.html" title="Crownstone encapsulates all functionality, stack, services, and configuration.">Crownstone</a> Team and fall under the project license mentioned above.</p>
<p >The original code and the extent to which is required by applicable law is left under its original license included below and is attributed to the original author Jonah H. Harris <a href="#" onclick="location.href='mai'+'lto:'+'jon'+'ah'+'.ha'+'rr'+'is@'+'gm'+'ail'+'.c'+'om'; return false;">jonah<span class="obfuscator">.nosp@m.</span>.har<span class="obfuscator">.nosp@m.</span>ris@g<span class="obfuscator">.nosp@m.</span>mail<span class="obfuscator">.nosp@m.</span>.com</a>.</p>
<p >The MIT License</p>
<p >Copyright (c) 2015 Jonah H. Harris</p>
<p >Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p >The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p >THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. A <a class="el" href="classCuckooFilter.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr....">CuckooFilter</a> is a probabilistic datatype is made for approximate membership queries.</p>
<p >This implementation consists of the POD data structure <code><a class="el" href="structcuckoo__filter__data__t.html" title="Data content of the cuckoo filter.">cuckoo_filter_data_t</a></code> and a 'view class' <code>Cuckoofilter</code>, which is used to manipulate the data struct.</p>
<p >The <a class="el" href="structcuckoo__filter__data__t.html" title="Data content of the cuckoo filter.">cuckoo_filter_data_t</a> struct is not aware of its size. That must be managed by the owning scope, which can query the required size in bytes for the given amount of fingerprints through the <a class="el" href="classCuckooFilter.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr....">CuckooFilter</a> class.</p>
<p >The 'elements' that one can <code>add</code> to a <code><a class="el" href="classCuckooFilter.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr....">CuckooFilter</a></code> are of type <code>cuckoo_key_t</code> which are simply sequences of bytes. To check if an element is contained in a filter, refer to the <code>contains</code> methods.</p>
<p ><a class="el" href="classCuckooFilter.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr....">CuckooFilter</a> data contents are stored in an array of fingerprints which is segmented into 'buckets'. These buckets are used for indexing, and although for an element, the bucket index and fingerprint are deterministic, the index inside the bucket is dependent on order of insertion.</p>
<p >More details can be found in <code><a href="https://www.cs.cmu.edu/~dga/papers/cuckoo-conext2014.pdf">https://www.cs.cmu.edu/~dga/papers/cuckoo-conext2014.pdf</a></code>. "Cuckoo Filter: Better Than Bloom" by Bin Fan, Dave Andersen, and Michael Kaminsky </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a899378ee226e4c351df48b0eba101894" name="a899378ee226e4c351df48b0eba101894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a899378ee226e4c351df48b0eba101894">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuckooFilter::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Memsets the bucket_array to 0x00 and sets victim to 0. </p>
<p >No changes are made to size. </p>

</div>
</div>
<a id="a339c229191a662a34073b78f6f1b4dc7" name="a339c229191a662a34073b78f6f1b4dc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a339c229191a662a34073b78f6f1b4dc7">&#9670;&nbsp;</a></span>contains()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CuckooFilter::contains </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>keyLengthInBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classFilterInterface.html">FilterInterface</a>.</p>

</div>
</div>
<a id="a24103a7643cdebe8c0ff87b10668d671" name="a24103a7643cdebe8c0ff87b10668d671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24103a7643cdebe8c0ff87b10668d671">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CuckooFilter::init </td>
          <td>(</td>
          <td class="paramtype">cuckoo_index_t&#160;</td>
          <td class="paramname"><em>bucketCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cuckoo_index_t&#160;</td>
          <td class="paramname"><em>nestsPerBucket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the size parameters and then <a class="el" href="classCuckooFilter.html#a899378ee226e4c351df48b0eba101894" title="Memsets the bucket_array to 0x00 and sets victim to 0.">clear()</a>s this object so that the bucket_array is filled with precisely enough 0x00s to represent an empty filter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">bucket_count_log2</td><td>number of buckets allocated will be rounde up to nearest power of 2 because of theoretical requirements. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1cd614904184eb167c8f44a822836a9" name="aa1cd614904184eb167c8f44a822836a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1cd614904184eb167c8f44a822836a9">&#9670;&nbsp;</a></span>isValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CuckooFilter::isValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classFilterInterface.html">FilterInterface</a>.</p>

</div>
</div>
<a id="a1267c21b23025c37b719d58d4b72fe04" name="a1267c21b23025c37b719d58d4b72fe04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1267c21b23025c37b719d58d4b72fe04">&#9670;&nbsp;</a></span>size() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t CuckooFilter::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">constexpr</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes this instance occypies. </p>
<p >Use this function instead of sizeof for this class to take the buffer into account. </p>

<p>Implements <a class="el" href="classFilterInterface.html">FilterInterface</a>.</p>

</div>
</div>
<a id="aa5942005f083c09816e8b0b882445208" name="aa5942005f083c09816e8b0b882445208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5942005f083c09816e8b0b882445208">&#9670;&nbsp;</a></span>size() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr size_t CuckooFilter::size </td>
          <td>(</td>
          <td class="paramtype">cuckoo_index_t&#160;</td>
          <td class="paramname"><em>bucketCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cuckoo_index_t&#160;</td>
          <td class="paramname"><em>nestsPerBucket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Total number of bytes a <a class="el" href="classCuckooFilter.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: 02 Apr....">CuckooFilter</a> with the given parameters would occupy. </p>
<p >As per cppreference.com: "sizeof, and the assignment operator ignore the flexible array member." <a href="https://en.cppreference.com/w/c/language/struct">https://en.cppreference.com/w/c/language/struct</a> </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>source/include/util/<a class="el" href="cs__CuckooFilter_8h_source.html">cs_CuckooFilter.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCuckooFilter.html">CuckooFilter</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
