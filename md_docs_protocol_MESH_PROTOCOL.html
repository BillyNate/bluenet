<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bluenet: # Bluenet mesh protocol</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
	DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bluenet
   &#160;<span id="projectnumber">5.4.0</span>
   </div>
   <div id="projectbrief">Bluenet, the firmware for the Crownstone power outlet</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_protocol_MESH_PROTOCOL.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"># Bluenet mesh protocol </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >This only documents the latest protocol, older versions can be found in the git history.</p>
<h1><a class="anchor" id="autotoc_md584"></a>
Message types</h1>
<p ><img src="../diagrams/crownstone-mesh-message.png" alt="Crownstone mesh message" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Message type   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">A type of mesh message (see table below)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Payload   </td><td class="markdownTableBodyNone">7   </td><td class="markdownTableBodyNone">Payload for the mesh message   </td></tr>
</table>
<p >This is in total 8 bytes (an unsegmented message). There's currently no versioning in use except for bumping the identifier of a message.</p>
<p >id | name | Payload | Result data &mdash;|&mdash;|&mdash;|&mdash; 0 | TEST | <a class="el" href="structcs__mesh__model__msg__test__t.html">cs_mesh_model_msg_test_t</a> 1 | CS_MESH_MODEL_TYPE_ACK | none 3 | CS_MESH_MODEL_TYPE_CMD_TIME | <a class="el" href="structcs__mesh__model__msg__time__t.html">cs_mesh_model_msg_time_t</a> 4 | CS_MESH_MODEL_TYPE_CMD_NOOP | none 5 | CS_MESH_MODEL_TYPE_CMD_MULTI_SWITCH | <a class="el" href="structcs__mesh__model__msg__multi__switch__item__t.html">cs_mesh_model_msg_multi_switch_item_t</a> 8 | CS_MESH_MODEL_TYPE_STATE_0 | <a class="el" href="structcs__mesh__model__msg__state__0__t.html">cs_mesh_model_msg_state_0_t</a> 9 | CS_MESH_MODEL_TYPE_STATE_1 | <a class="el" href="structcs__mesh__model__msg__state__1__t.html">cs_mesh_model_msg_state_1_t</a> 10 | CS_MESH_MODEL_TYPE_PROFILE_LOCATION | <a class="el" href="structcs__mesh__model__msg__profile__location__t.html">cs_mesh_model_msg_profile_location_t</a> 11 | CS_MESH_MODEL_TYPE_SET_BEHAVIOUR_SETTINGS | <a href="PROTOCOL.md#behaviour-settings">Behaviour settings</a> 12 | CS_MESH_MODEL_TYPE_TRACKED_DEVICE_REGISTER | <a class="el" href="structcs__mesh__model__msg__device__register__t.html">cs_mesh_model_msg_device_register_t</a> 13 | CS_MESH_MODEL_TYPE_TRACKED_DEVICE_TOKEN | <a class="el" href="structcs__mesh__model__msg__device__token__t.html">cs_mesh_model_msg_device_token_t</a> 14 | CS_MESH_MODEL_TYPE_SYNC_REQUEST | <a class="el" href="structcs__mesh__model__msg__sync__request__t.html">cs_mesh_model_msg_sync_request_t</a> 16 | CS_MESH_MODEL_TYPE_TRACKED_DEVICE_LIST_SIZE | <a class="el" href="structcs__mesh__model__msg__device__list__size__t.html">cs_mesh_model_msg_device_list_size_t</a> 17 | CS_MESH_MODEL_TYPE_STATE_SET | cs_mesh_model_msg_state_set | <a class="el" href="structcs__mesh__model__msg__state__header__t.html">cs-mesh-model-msg-state-header-t</a> 18 | CS_MESH_MODEL_TYPE_RESULT | cs_mesh_model_msg_result 19 | CS_MESH_MODEL_TYPE_SET_IBEACON_CONFIG_ID | <a href="PROTOCOL.md#ibeacon-config-id-packet">Ibeacon config ID packet</a> 20 | CS_MESH_MODEL_TYPE_TRACKED_DEVICE_HEARTBEAT | <a class="el" href="structcs__mesh__model__msg__device__heartbeat__t.html">Device heartbeat packet</a> 22 | CS_MESH_MODEL_TYPE_TIME_SYNC | cs_mesh_model_msg_time_sync_message_t 25 | CS_MESH_MODEL_TYPE_STONE_MAC | <a class="el" href="structcs__mesh__model__msg__stone__mac__t.html">cs_mesh_model_msg_stone_mac_t</a> 26 | CS_MESH_MODEL_TYPE_ASSET_FILTER_VERSION | <a class="el" href="structcs__mesh__model__msg__asset__filter__version__t.html">cs_mesh_model_msg_asset_filter_version_t</a> 27 | CS_MESH_MODEL_TYPE_ASSET_INFO_MAC | Asset MAC report 28 | CS_MESH_MODEL_TYPE_NEIGHBOUR_RSSI | <a class="el" href="structcs__mesh__model__msg__neighbour__rssi__t.html">cs_mesh_model_msg_neighbour_rssi_t</a> 29 | CS_MESH_MODEL_TYPE_CTRL_CMD | cs_mesh_model_msg_ctrl_cmd_t | <a class="el" href="structcs__mesh__model__msg__ctrl__cmd__header__t.html">cs_mesh_model_msg_ctrl_cmd_header_t</a> 30 | CS_MESH_MODEL_TYPE_ASSET_INFO_ID | Asset ID report</p>
<h1><a class="anchor" id="autotoc_md585"></a>
Packet descriptors</h1>
<h3><a class="anchor" id="autotoc_md586"></a>
cs_mesh_model_msg_test_t</h3>
<p ><img src="../diagrams/mesh_message_test.png" alt="Time" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; uint32_t | Counter | 4 | uint8_t[3] | Dummy | 3 |</p>
<h3><a class="anchor" id="autotoc_md587"></a>
cs_mesh_model_msg_time_t</h3>
<p ><img src="../diagrams/mesh_message_time.png" alt="Time" class="inline"/></p>
<p >When a <a class="el" href="classCrownstone.html" title="Crownstone encapsulates all functionality, stack, services, and configuration.">Crownstone</a> receives this message over the mesh, it will synchronize the whole mesh to the given value. <a class="el" href="classBehaviour.html" title="Class to derrive behaviours from, centralizing common variables such as from and until times.">Behaviour</a> is identical to the <a href="PROTOCOL.md#command-types">set time command</a></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint32_t   </td><td class="markdownTableBodyNone">Timestamp   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">posix time stamp   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md588"></a>
cs_mesh_model_msg_profile_location_t</h3>
<p ><img src="../diagrams/mesh_profile_location.png" alt="profile location" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; uint8_t | Profile | 1 | uint8_t | Location | 1 |</p>
<h3><a class="anchor" id="autotoc_md589"></a>
cs_mesh_model_msg_state_0_t</h3>
<p ><img src="../diagrams/mesh_model_state_0.png" alt="model state 0" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; uint8_t | Switch state | 1 | uint8_t | Flags | 1 | int8_t | Power factor | 1 | int16_t | Power usage real | 2 | uint16_t | Partial timestamp | 2 |</p>
<h3><a class="anchor" id="autotoc_md590"></a>
cs_mesh_model_msg_state_1_t</h3>
<p ><img src="../diagrams/mesh_model_state_1.png" alt="model state 1" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; int8 | Temperature | 1 | int32 | Energy used | 4 | uint16 | Partial timestamp | 2 |</p>
<h3><a class="anchor" id="autotoc_md591"></a>
cs_mesh_model_msg_multi_switch_item_t</h3>
<p ><img src="../diagrams/mesh_multi_switch_item.png" alt="multi switch item" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; uint8_t | Stone ID | 1 | uint8_t | Switch value | 1 | uint16_t | Delay | 2 | <a class="el" href="structcmd__source__with__counter__t.html" title="Struct that tells where a command originated from.">cmd_source_with_counter_t</a> | Source | 3 |</p>
<h3><a class="anchor" id="autotoc_md592"></a>
cs_mesh_model_msg_device_register_t</h3>
<p ><img src="../diagrams/mesh_register_device.png" alt="register device" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; device_id_t | Device ID | 2 | uint8_t | Location ID | 1 | uint8_t | Profile ID | 1 | int8_t | RSSI offset | 1 | uint8_t | Flags | 1 | uint8_t | Access level | 1 |</p>
<h3><a class="anchor" id="autotoc_md593"></a>
cs_mesh_model_msg_device_token_t</h3>
<p ><img src="../diagrams/mesh_device_token.png" alt="device token" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; device_id_t | Device ID | 2 | uint8_t[3] | Device token | 3 | uint16_t | TTL minutes | 2 |</p>
<h3><a class="anchor" id="autotoc_md594"></a>
cs_mesh_model_msg_device_heartbeat_t</h3>
<p ><img src="../diagrams/mesh_device_heartbeat.png" alt="device heartbeat" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; device_id_t | Device ID | 2 | uint8_t | Location ID | 1 | uint8_t | TTL minutes | 1 |</p>
<h3><a class="anchor" id="autotoc_md595"></a>
cs_mesh_model_msg_device_list_size_t</h3>
<p ><img src="../diagrams/mesh_device_list_size.png" alt="device list" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">List size   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Size of tracked devices list.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md596"></a>
cs_mesh_model_msg_sync_request_t</h3>
<p ><img src="../diagrams/mesh_sync_request.png" alt="sync request" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Stone ID   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">ID of stone that requests for a sync.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint32_t   </td><td class="markdownTableBodyNone">requestBitmask   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">Bitmask of all things that are requested to be synced.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md597"></a>
Sync bitmask</h3>
<p >Bit | Name | Description &mdash; | &mdash; | &mdash; 0 | <a class="el" href="classTime.html" title="Author: Crownstone Team Copyright: Crownstone (https://crownstone.rocks) Date: Sep 24,...">Time</a> | 1 | Registered devices | 2 | <a class="el" href="classBehaviour.html" title="Class to derrive behaviours from, centralizing common variables such as from and until times.">Behaviour</a> settings | 3-31 | Reserved | Reserved for future use, must be 0 for now.</p>
<h3><a class="anchor" id="autotoc_md598"></a>
cs_mesh_model_msg_state_set</h3>
<p ><img src="../diagrams/mesh_state_set.png" alt="state set" class="inline"/></p>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; <a class="el" href="structcs__mesh__model__msg__state__header__ext__t.html">state header</a> | <a class="el" href="classState.html" title="Stores state values in RAM and/or FLASH.">State</a> header | 3 | uint8_t[] | Payload | N | Payload data, depends on state type.</p>
<h3><a class="anchor" id="autotoc_md599"></a>
cs_mesh_model_msg_state_header_ext_t</h3>
<p ><img src="../diagrams/mesh_state_header_ext.png" alt="state header" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length in bits   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="structcs__mesh__model__msg__state__header__t.html">cs_mesh_model_msg_state_header_t</a>   </td><td class="markdownTableBodyNone">Header   </td><td class="markdownTableBodyNone">16   </td><td class="markdownTableBodyNone"><a class="el" href="classState.html" title="Stores state values in RAM and/or FLASH.">State</a> header.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Access level   </td><td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">Shortened version of access level: 0=ADMIN, 1=MEMBER, 2=BASIC, 6=SETUP, 7=NOT_SET.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Source ID   </td><td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">Shortened version of source ID: 0=NONE, 2=INTERNAL, 3=UART, 4=CONNECTION, 5=SWITCHCRAFT, 30=BROADCAST   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md600"></a>
cs_mesh_model_msg_state_header_t</h3>
<p ><img src="../diagrams/mesh_state_header.png" alt="state header ext" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length in bits   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Type   </td><td class="markdownTableBodyNone">8   </td><td class="markdownTableBodyNone"><a href="PROTOCOL.md#state-types">State type</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone"><a class="el" href="classState.html" title="Stores state values in RAM and/or FLASH.">State</a> ID   </td><td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">ID of state to get. Most state types will only have ID 0.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone"><a href="PROTOCOL.md#state-set-persistence-mode">Persistence mode</a>   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Type of persistence mode.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md601"></a>
cs_mesh_model_msg_ctrl_cmd_t</h3>
<p >Type | Name | Length | Description &mdash; | &mdash; | &mdash; | &mdash; <a class="el" href="structcs__mesh__model__msg__ctrl__cmd__header__ext__t.html">header</a> | Header | 3 | uint8_t[] | Payload | N | Payload data, depends on command type.</p>
<h3><a class="anchor" id="autotoc_md602"></a>
cs_mesh_model_msg_ctrl_cmd_header_ext_t</h3>
<p >Type | Name | Length in bits | Description &mdash; | &mdash; | &mdash; | &mdash; <a class="el" href="structcs__mesh__model__msg__ctrl__cmd__header__t.html">header</a> | Header | 16 | uint8_t | Access level | 3 | Shortened version of access level: 0=ADMIN, 1=MEMBER, 2=BASIC, 6=SETUP, 7=NOT_SET. uint8_t | Source ID | 5 | Shortened version of source ID: 0=NONE, 2=INTERNAL, 3=UART, 4=CONNECTION, 5=SWITCHCRAFT, 30=BROADCAST</p>
<h3><a class="anchor" id="autotoc_md603"></a>
cs_mesh_model_msg_ctrl_cmd_header_t</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint16_t   </td><td class="markdownTableBodyNone">Command type   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone"><a href="PROTOCOL.md#command-types">Command type</a>.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md604"></a>
high_resolution_time_stamp_t</h3>
<p ><img src="../diagrams/high_resolution_time_stamp.png" alt="High resolution time stamp" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint32_t   </td><td class="markdownTableBodyNone">posix_s   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone">seconds since epoch    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint16_t   </td><td class="markdownTableBodyNone">posix_ms, version   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">bits 0-9: milliseconds passed since posix_s. bits 10-15: synchronisation version   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md605"></a>
cs_mesh_model_msg_time_sync_message_t</h3>
<p ><img src="../diagrams/time_sync_message_t.png" alt="Time sync message" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="structhigh__resolution__time__stamp__t.html" title="Versioned timestamp with milliseconds precision.">high_resolution_time_stamp_t</a>   </td><td class="markdownTableBodyNone">stamp   </td><td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">current stamp of root clock    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">root_id   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">id of root clock (may differ from sender id)   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md606"></a>
cs_mesh_model_msg_stone_mac_t</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Type   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Type: 0 = request, 1 = reply.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t[]   </td><td class="markdownTableBodyNone">MAC address   </td><td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">Mac address of the replier, ignored for request.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md607"></a>
cs_mesh_model_msg_asset_filter_version_t</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Protocol   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Supported <a href="ASSET_FILTERING.md#protocol-version">protocol</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint16_t   </td><td class="markdownTableBodyNone">Master version   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone"><a href="ASSET_FILTERING.md#master-version">Master version</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint32_t   </td><td class="markdownTableBodyNone">Master CRC   </td><td class="markdownTableBodyNone">4   </td><td class="markdownTableBodyNone"><a href="ASSET_FILTERING.md#master-crc">Master CRC</a>.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md608"></a>
Asset MAC report</h2>
<p ><img src="../diagrams/mesh_asset_report_mac.png" alt="asset MAC report" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8[]   </td><td class="markdownTableBodyNone">MAC   </td><td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">The MAC address of the asset.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">rssi   </td><td class="markdownTableBodyNone">Rssi   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Signal strength of the asset advertisement.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md609"></a>
RSSI and channel</h2>
<p ><img src="../diagrams/rssi_and_channel_packet.png" alt="RSSI and channel packet" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length in bits   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8   </td><td class="markdownTableBodyNone">Channel   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">The BLE channel: 0 = unknown, 1 = 37, 2 = 38, 3 = 39.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8   </td><td class="markdownTableBodyNone">RSSI halved   </td><td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">RSSI / -2, or 0 if RSSI is positive.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md610"></a>
Asset ID report</h2>
<p ><img src="../diagrams/mesh_asset_report_id.png" alt="Asset ID report" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="ASSET_FILTERING.md#asset-id">Asset ID</a>   </td><td class="markdownTableBodyNone">Asset ID   </td><td class="markdownTableBodyNone">3   </td><td class="markdownTableBodyNone">The asset ID.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8   </td><td class="markdownTableBodyNone">Filter bitmask   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Bitmask of filters that the asset advertisement passed and lead to this asset ID. Nth bit set, means the asset passed <a href="ASSET_FILTERING.md#filter-id">filter ID</a> = N, and lead to this asset ID.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">int8   </td><td class="markdownTableBodyNone">RSSI   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Signal strength of the asset advertisement.   </td></tr>
</table>
<p>channel | Channel | 1 | uint8 | Reserved | 1 | Reserved for future use, 0 for now.</p>
<h2><a class="anchor" id="autotoc_md611"></a>
Asset ID report channel</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length in bits   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8   </td><td class="markdownTableBodyNone">Channel   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">The BLE channel: 0 = unknown, 1 = 37, 2 = 38, 3 = 39.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8   </td><td class="markdownTableBodyNone">Reserved   </td><td class="markdownTableBodyNone">6   </td><td class="markdownTableBodyNone">Reserved for future use, 0 for now.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md612"></a>
cs_mesh_model_msg_neighbour_rssi_t</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Type   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Always 0 for now.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Neighbour ID   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">ID of the observed neighbour.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">int8_t   </td><td class="markdownTableBodyNone">RSSI channel 37   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">RSSI on channel 37.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">int8_t   </td><td class="markdownTableBodyNone">RSSI channel 38   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">RSSI on channel 38.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">int8_t   </td><td class="markdownTableBodyNone">RSSI channel 39   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">RSSI on channel 39.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Last seen   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">How many seconds ago the neighbour was last seen.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Message number   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Message number that increases by 1 each time this message is sent. Used to identify package loss.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md613"></a>
cs_mesh_model_msg_result</h3>
<p ><img src="../diagrams/mesh_result.png" alt="state set" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="structcs__mesh__model__msg__result__header__t.html">result header</a>   </td><td class="markdownTableBodyNone">Result header   </td><td class="markdownTableBodyNone">2   </td><td class="markdownTableBodyNone">Header.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t[]   </td><td class="markdownTableBodyNone">Payload   </td><td class="markdownTableBodyNone">N   </td><td class="markdownTableBodyNone">Payload data, depends on result type.   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md614"></a>
cs_mesh_model_msg_result_header_t</h3>
<p ><img src="../diagrams/mesh_result_header.png" alt="result header" class="inline"/></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Length   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone">Type   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">The type of mesh msg this is the result of.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">uint8_t   </td><td class="markdownTableBodyNone"><a href="PROTOCOL.md#result-codes">Result code</a>   </td><td class="markdownTableBodyNone">1   </td><td class="markdownTableBodyNone">Shortened version of result code.   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
